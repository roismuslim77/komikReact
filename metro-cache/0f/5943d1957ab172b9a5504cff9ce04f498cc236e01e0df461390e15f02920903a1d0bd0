{"dependencies":[{"name":"./constants","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  exports.__esModule = true;\n  exports.default = createMigrate;\n\n  var _constants = _$$_REQUIRE(_dependencyMap[0], \"./constants\");\n\n  function createMigrate(migrations, config) {\n    var _ref = config || {},\n        debug = _ref.debug;\n\n    return function (state, currentVersion) {\n      if (!state) {\n        if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: no inbound state, skipping migration');\n        return Promise.resolve(undefined);\n      }\n\n      var inboundVersion = state._persist && state._persist.version !== undefined ? state._persist.version : _constants.DEFAULT_VERSION;\n\n      if (inboundVersion === currentVersion) {\n        if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: versions match, noop migration');\n        return Promise.resolve(state);\n      }\n\n      if (inboundVersion > currentVersion) {\n        if (process.env.NODE_ENV !== 'production') console.error('redux-persist: downgrading version is not supported');\n        return Promise.resolve(state);\n      }\n\n      var migrationKeys = Object.keys(migrations).map(function (ver) {\n        return parseInt(ver);\n      }).filter(function (key) {\n        return currentVersion >= key && key > inboundVersion;\n      }).sort(function (a, b) {\n        return a - b;\n      });\n      if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: migrationKeys', migrationKeys);\n\n      try {\n        var migratedState = migrationKeys.reduce(function (state, versionKey) {\n          if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: running migration for versionKey', versionKey);\n          return migrations[versionKey](state);\n        }, state);\n        return Promise.resolve(migratedState);\n      } catch (err) {\n        return Promise.reject(err);\n      }\n    };\n  }\n});","map":[[2,0,1,0],[4,0,3,0,"exports"],[4,2,3,0,"exports"],[4,9,3,7],[4,10,3,8,"__esModule"],[4,20,3,0],[4,23,3,21],[4,27,3,0],[5,0,4,0,"exports"],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"default"],[5,17,4,0],[5,20,4,18,"createMigrate"],[5,33,4,0],[7,0,6,0],[7,6,6,4,"_constants"],[7,16,6,14],[7,19,6,17,"require"],[7,30,6,24],[7,64,6,0],[9,0,8,0],[9,11,8,9,"createMigrate"],[9,24,8,0],[9,25,8,23,"migrations"],[9,35,8,0],[9,37,8,35,"config"],[9,43,8,0],[9,45,8,43],[10,0,9,2],[10,8,9,6,"_ref"],[10,12,9,10],[10,15,9,13,"config"],[10,21,9,19],[10,25,9,23],[10,27,9,2],[11,0,9,2],[11,8,10,6,"debug"],[11,13,10,11],[11,16,10,14,"_ref"],[11,20,10,18],[11,21,10,19,"debug"],[11,26,9,2],[13,0,12,2],[13,11,12,9],[13,21,12,19,"state"],[13,26,12,9],[13,28,12,26,"currentVersion"],[13,42,12,9],[13,44,12,42],[14,0,13,4],[14,10,13,8],[14,11,13,9,"state"],[14,16,13,4],[14,18,13,16],[15,0,14,6],[15,12,14,10,"process"],[15,19,14,17],[15,20,14,18,"env"],[15,23,14,10],[15,24,14,22,"NODE_ENV"],[15,32,14,10],[15,37,14,35],[15,49,14,10],[15,53,14,51,"debug"],[15,58,14,6],[15,60,14,58,"console"],[15,67,14,65],[15,68,14,66,"log"],[15,71,14,58],[15,72,14,70],[15,125,14,58],[16,0,15,6],[16,15,15,13,"Promise"],[16,22,15,20],[16,23,15,21,"resolve"],[16,30,15,13],[16,31,15,29,"undefined"],[16,40,15,13],[16,41,15,6],[17,0,16,5],[19,0,18,4],[19,10,18,8,"inboundVersion"],[19,24,18,22],[19,27,18,25,"state"],[19,32,18,30],[19,33,18,31,"_persist"],[19,41,18,25],[19,45,18,43,"state"],[19,50,18,48],[19,51,18,49,"_persist"],[19,59,18,43],[19,60,18,58,"version"],[19,67,18,43],[19,72,18,70,"undefined"],[19,81,18,25],[19,84,18,82,"state"],[19,89,18,87],[19,90,18,88,"_persist"],[19,98,18,82],[19,99,18,97,"version"],[19,106,18,25],[19,109,18,107,"_constants"],[19,119,18,117],[19,120,18,118,"DEFAULT_VERSION"],[19,135,18,4],[21,0,20,4],[21,10,20,8,"inboundVersion"],[21,24,20,22],[21,29,20,27,"currentVersion"],[21,43,20,4],[21,45,20,43],[22,0,21,6],[22,12,21,10,"process"],[22,19,21,17],[22,20,21,18,"env"],[22,23,21,10],[22,24,21,22,"NODE_ENV"],[22,32,21,10],[22,37,21,35],[22,49,21,10],[22,53,21,51,"debug"],[22,58,21,6],[22,60,21,58,"console"],[22,67,21,65],[22,68,21,66,"log"],[22,71,21,58],[22,72,21,70],[22,119,21,58],[23,0,22,6],[23,15,22,13,"Promise"],[23,22,22,20],[23,23,22,21,"resolve"],[23,30,22,13],[23,31,22,29,"state"],[23,36,22,13],[23,37,22,6],[24,0,23,5],[26,0,25,4],[26,10,25,8,"inboundVersion"],[26,24,25,22],[26,27,25,25,"currentVersion"],[26,41,25,4],[26,43,25,41],[27,0,26,6],[27,12,26,10,"process"],[27,19,26,17],[27,20,26,18,"env"],[27,23,26,10],[27,24,26,22,"NODE_ENV"],[27,32,26,10],[27,37,26,35],[27,49,26,6],[27,51,26,49,"console"],[27,58,26,56],[27,59,26,57,"error"],[27,64,26,49],[27,65,26,63],[27,118,26,49],[28,0,27,6],[28,15,27,13,"Promise"],[28,22,27,20],[28,23,27,21,"resolve"],[28,30,27,13],[28,31,27,29,"state"],[28,36,27,13],[28,37,27,6],[29,0,28,5],[31,0,30,4],[31,10,30,8,"migrationKeys"],[31,23,30,21],[31,26,30,24,"Object"],[31,32,30,30],[31,33,30,31,"keys"],[31,37,30,24],[31,38,30,36,"migrations"],[31,48,30,24],[31,50,30,48,"map"],[31,53,30,24],[31,54,30,52],[31,64,30,62,"ver"],[31,67,30,52],[31,69,30,67],[32,0,31,6],[32,15,31,13,"parseInt"],[32,23,31,21],[32,24,31,22,"ver"],[32,27,31,21],[32,28,31,6],[33,0,32,5],[33,7,30,24],[33,9,32,7,"filter"],[33,15,30,24],[33,16,32,14],[33,26,32,24,"key"],[33,29,32,14],[33,31,32,29],[34,0,33,6],[34,15,33,13,"currentVersion"],[34,29,33,27],[34,33,33,31,"key"],[34,36,33,13],[34,40,33,38,"key"],[34,43,33,41],[34,46,33,44,"inboundVersion"],[34,60,33,6],[35,0,34,5],[35,7,30,24],[35,9,34,7,"sort"],[35,13,30,24],[35,14,34,12],[35,24,34,22,"a"],[35,25,34,12],[35,27,34,25,"b"],[35,28,34,12],[35,30,34,28],[36,0,35,6],[36,15,35,13,"a"],[36,16,35,14],[36,19,35,17,"b"],[36,20,35,6],[37,0,36,5],[37,7,30,24],[37,8,30,4],[38,0,37,4],[38,10,37,8,"process"],[38,17,37,15],[38,18,37,16,"env"],[38,21,37,8],[38,22,37,20,"NODE_ENV"],[38,30,37,8],[38,35,37,33],[38,47,37,8],[38,51,37,49,"debug"],[38,56,37,4],[38,58,37,56,"console"],[38,65,37,63],[38,66,37,64,"log"],[38,69,37,56],[38,70,37,68],[38,100,37,56],[38,102,37,100,"migrationKeys"],[38,115,37,56],[40,0,39,4],[40,10,39,8],[41,0,40,6],[41,12,40,10,"migratedState"],[41,25,40,23],[41,28,40,26,"migrationKeys"],[41,41,40,39],[41,42,40,40,"reduce"],[41,48,40,26],[41,49,40,47],[41,59,40,57,"state"],[41,64,40,47],[41,66,40,64,"versionKey"],[41,76,40,47],[41,78,40,76],[42,0,41,8],[42,14,41,12,"process"],[42,21,41,19],[42,22,41,20,"env"],[42,25,41,12],[42,26,41,24,"NODE_ENV"],[42,34,41,12],[42,39,41,37],[42,51,41,12],[42,55,41,53,"debug"],[42,60,41,8],[42,62,41,60,"console"],[42,69,41,67],[42,70,41,68,"log"],[42,73,41,60],[42,74,41,72],[42,123,41,60],[42,125,41,123,"versionKey"],[42,135,41,60],[43,0,42,8],[43,17,42,15,"migrations"],[43,27,42,25],[43,28,42,26,"versionKey"],[43,38,42,25],[43,39,42,15],[43,40,42,38,"state"],[43,45,42,15],[43,46,42,8],[44,0,43,7],[44,9,40,26],[44,11,43,9,"state"],[44,16,40,26],[44,17,40,6],[45,0,44,6],[45,15,44,13,"Promise"],[45,22,44,20],[45,23,44,21,"resolve"],[45,30,44,13],[45,31,44,29,"migratedState"],[45,44,44,13],[45,45,44,6],[46,0,45,5],[46,7,39,4],[46,8,45,6],[46,15,45,13,"err"],[46,18,45,6],[46,20,45,18],[47,0,46,6],[47,15,46,13,"Promise"],[47,22,46,20],[47,23,46,21,"reject"],[47,29,46,13],[47,30,46,28,"err"],[47,33,46,13],[47,34,46,6],[48,0,47,5],[49,0,48,3],[49,5,12,2],[50,0,49,1]]},"type":"js/module"}]}